<template>
  <!-- Button to open the flow in a modal -->
  <lightning-button label="Update Information" onclick={handleClick} class="slds-m-around_medium"></lightning-button>

  <!-- Modal structure -->
  <template if:true={isFlowVisible}>
    <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
      <div class="slds-modal__container">

        <!-- Modal Header -->
        <header class="slds-modal__header">
          <button class="slds-button slds-button_icon slds-button_icon-inverse slds-modal__close" title="Close"
            onclick={closeModal}>
            <lightning-icon icon-name="utility:close" alternative-text="close" size="small"></lightning-icon>
            <span class="slds-assistive-text">Close</span>
          </button>
          <h2 class="slds-text-heading_medium">Confirm Personal Information</h2>
        </header>

        <!-- Modal Body with the embedded flow -->
        <div class="slds-modal__content slds-p-around_medium">
          <lightning-flow flow-api-name="User_Confirm_Personal_Information" flow-input-variables={flowInputs}
            onstatuschange={handleStatusChange} onattributechange={handleFlowAttributeChange}>
          </lightning-flow>
        </div>

      </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
  </template>
</template>